# File: netlify.toml (in your project root)

[build]
  # 1. Go into the 'frontend' folder, build it, and come back
  command = "cd frontend && npm install && npm run build"
  
  # 2. Tell Netlify where the finished frontend site is
  publish = "frontend/build"
  
  # 3. Tell Netlify where our backend function is
  # Netlify will find 'backend/index.js' and use the 'handler' we exported
  functions = "backend"

# This increases the time for our backend function
[functions]
  [functions."index"] # 'index' is the name of your index.js file
    timeout = 25 # Increase the timeout to 25 seconds

    
# This rule proxies API requests to our function
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/index/:splat" # 'index' is the name of our 'index.js' file
  status = 200
  
